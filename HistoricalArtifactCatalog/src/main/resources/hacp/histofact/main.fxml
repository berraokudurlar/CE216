<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ListView?>
<?import javafx.scene.control.Menu?>
<?import javafx.scene.control.MenuBar?>
<?import javafx.scene.control.MenuItem?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.SeparatorMenuItem?>
<?import javafx.scene.control.SplitPane?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.control.ToolBar?>
<?import javafx.scene.control.Tooltip?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>

<?import java.net.URL?>
<BorderPane prefHeight="700.0" prefWidth="1000.0" xmlns="http://javafx.com/javafx/21" xmlns:fx="http://javafx.com/fxml/1" fx:controller="hacp.histofact.MainController">
    <stylesheets>
        <URL value="@../resources/styles/histofact-style.css" />
    </stylesheets>
    <top>
        <VBox>
            <MenuBar>
                <Menu mnemonicParsing="false" text="File">
                    <MenuItem mnemonicParsing="false" onAction="#handleAddArtifact" text="New Artifact"/>
                    <MenuItem mnemonicParsing="false" text="Open"/>
                    <Menu mnemonicParsing="false" text="Open Recent"/>
                    <SeparatorMenuItem mnemonicParsing="false"/>
                    <MenuItem mnemonicParsing="false" onAction="#handleImport" text="Import JSON"/>
                    <MenuItem mnemonicParsing="false" onAction="#handleExport" text="Export JSON"/>
                    <SeparatorMenuItem mnemonicParsing="false"/>
                    <MenuItem mnemonicParsing="false" text="Exit"/>
                </Menu>
                <Menu mnemonicParsing="false" text="Edit">
                    <MenuItem mnemonicParsing="false" onAction="#handleEditArtifact"
                              text="Edit Selected Artifact"/>
                    <MenuItem mnemonicParsing="false" onAction="#handleDeleteArtifact"
                              text="Delete Selected Artifact"/>
                </Menu>
                <Menu mnemonicParsing="false" text="View">
                    <MenuItem mnemonicParsing="false" text="Refresh"/>
                    <Menu mnemonicParsing="false" text="Sort By">
                        <MenuItem mnemonicParsing="false" text="Name"/>
                        <MenuItem mnemonicParsing="false" text="Category"/>
                        <MenuItem mnemonicParsing="false" text="Discovery Date"/>
                        <MenuItem mnemonicParsing="false" text="Civilization"/>
                    </Menu>
                </Menu>
                <Menu mnemonicParsing="false" text="Help">
                    <MenuItem mnemonicParsing="false" onAction="#handleShowHelp" text="User Manual"/>
                    <MenuItem mnemonicParsing="false" text="About"/>
                </Menu>
            </MenuBar>
            <ToolBar>
                <HBox spacing="10" alignment="CENTER_LEFT" HBox.hgrow="ALWAYS">
                    <Button mnemonicParsing="false" onAction="#handleAddArtifact" text="New">
                        <tooltip>
                            <Tooltip text="Add New Artifact"/>
                        </tooltip>
                    </Button>
                    <Button mnemonicParsing="false" onAction="#handleEditArtifact" text="Edit">
                        <tooltip>
                            <Tooltip text="Edit Selected Artifact"/>
                        </tooltip>
                    </Button>
                    <Button mnemonicParsing="false" onAction="#handleDeleteArtifact" text="Delete">
                        <tooltip>
                            <Tooltip text="Delete Selected Artifact"/>
                        </tooltip>
                    </Button>
                    <HBox spacing="10" alignment="CENTER_RIGHT" HBox.hgrow="ALWAYS">
                        <TextField fx:id="searchField" prefWidth="250.0" promptText="Search artifacts...">
                            <tooltip>
                                <Tooltip text="Search across all artifact fields"/>
                            </tooltip>
                        </TextField>
                        <Button mnemonicParsing="false" onAction="#handleSearch" text="Search"/>
                    </HBox>
                </HBox>
            </ToolBar>
        </VBox>
    </top>
    <center>
        <SplitPane dividerPositions="0.3">
            <VBox styleClass="sidebar" spacing="10">
                <padding>
                    <Insets top="15" right="15" bottom="15" left="15"/>
                </padding>
                <Label styleClass="section-label" text="Artifacts"/>
                <HBox alignment="CENTER_LEFT" spacing="10">
                    <Label styleClass="field-label" text="Filter by Tags:"/>
                    <ComboBox fx:id="tagFilterComboBox" promptText="Select Tags" HBox.hgrow="ALWAYS"/>
                    <Button mnemonicParsing="false" onAction="#handleFilterByTags" text="Apply"/>
                </HBox>
                <ListView fx:id="artifactListView" VBox.vgrow="ALWAYS"/>
            </VBox>
            <ScrollPane fitToHeight="true" fitToWidth="true" styleClass="details-container">
                <VBox spacing="15">
                    <padding>
                        <Insets top="15" right="15" bottom="15" left="15"/>
                    </padding>
                    <Label fx:id="artifactNameLabel" styleClass="title-label" text="Select an artifact to view details"/>
                    <ImageView fx:id="artifactImageView" fitHeight="250.0" fitWidth="400.0" preserveRatio="true" styleClass="artifact-image"/>
                    <GridPane styleClass="details-grid" hgap="15" vgap="8">
                        <padding>
                            <Insets top="15" right="15" bottom="15" left="15"/>
                        </padding>
                        <columnConstraints>
                            <javafx.scene.layout.ColumnConstraints halignment="RIGHT" hgrow="SOMETIMES"
                                                                   maxWidth="200.0" minWidth="150.0"
                                                                   prefWidth="150.0"/>
                            <javafx.scene.layout.ColumnConstraints hgrow="ALWAYS" minWidth="10.0"
                                                                   prefWidth="100.0"/>
                        </columnConstraints>
                        <rowConstraints>
                            <javafx.scene.layout.RowConstraints minHeight="10.0" prefHeight="30.0" vgrow="SOMETIMES"/>
                            <javafx.scene.layout.RowConstraints minHeight="10.0" prefHeight="30.0" vgrow="SOMETIMES"/>
                            <javafx.scene.layout.RowConstraints minHeight="10.0" prefHeight="30.0" vgrow="SOMETIMES"/>
                            <javafx.scene.layout.RowConstraints minHeight="10.0" prefHeight="30.0" vgrow="SOMETIMES"/>
                            <javafx.scene.layout.RowConstraints minHeight="10.0" prefHeight="30.0" vgrow="SOMETIMES"/>
                            <javafx.scene.layout.RowConstraints minHeight="10.0" prefHeight="30.0" vgrow="SOMETIMES"/>
                            <javafx.scene.layout.RowConstraints minHeight="10.0" prefHeight="30.0" vgrow="SOMETIMES"/>
                            <javafx.scene.layout.RowConstraints minHeight="10.0" prefHeight="30.0" vgrow="SOMETIMES"/>
                            <javafx.scene.layout.RowConstraints minHeight="10.0" prefHeight="30.0" vgrow="SOMETIMES"/>
                            <javafx.scene.layout.RowConstraints minHeight="10.0" prefHeight="30.0" vgrow="SOMETIMES"/>
                            <javafx.scene.layout.RowConstraints minHeight="10.0" prefHeight="30.0" vgrow="SOMETIMES"/>
                        </rowConstraints>
                        <Label styleClass="field-label" text="Artifact ID:"/>
                        <Label styleClass="field-label" text="Category:" GridPane.rowIndex="1"/>
                        <Label styleClass="field-label" text="Civilization:" GridPane.rowIndex="2"/>
                        <Label styleClass="field-label" text="Discovery Location:" GridPane.rowIndex="3"/>
                        <Label styleClass="field-label" text="Composition:" GridPane.rowIndex="4"/>
                        <Label styleClass="field-label" text="Discovery Date:" GridPane.rowIndex="5"/>
                        <Label styleClass="field-label" text="Current Place:" GridPane.rowIndex="6"/>
                        <Label styleClass="field-label" text="Dimensions:" GridPane.rowIndex="7"/>
                        <Label styleClass="field-label" text="Weight:" GridPane.rowIndex="8"/>
                        <Label styleClass="field-label" text="Tags:" GridPane.rowIndex="9"/>
                        <Label styleClass="field-label" text="Image Path:" GridPane.rowIndex="10"/>

                        <Label fx:id="artifactIdLabel" text="-" GridPane.columnIndex="1"/>
                        <Label fx:id="categoryLabel" text="-" GridPane.columnIndex="1" GridPane.rowIndex="1"/>
                        <Label fx:id="civilizationLabel" text="-" GridPane.columnIndex="1" GridPane.rowIndex="2"/>
                        <Label fx:id="discoveryLocationLabel" text="-" GridPane.columnIndex="1" GridPane.rowIndex="3"/>
                        <Label fx:id="compositionLabel" text="-" GridPane.columnIndex="1" GridPane.rowIndex="4"/>
                        <Label fx:id="discoveryDateLabel" text="-" GridPane.columnIndex="1" GridPane.rowIndex="5"/>
                        <Label fx:id="currentPlaceLabel" text="-" GridPane.columnIndex="1" GridPane.rowIndex="6"/>
                        <Label fx:id="dimensionsLabel" text="-" GridPane.columnIndex="1" GridPane.rowIndex="7"/>
                        <Label fx:id="weightLabel" text="-" GridPane.columnIndex="1" GridPane.rowIndex="8"/>
                        <Label fx:id="tagsLabel" text="-" GridPane.columnIndex="1" GridPane.rowIndex="9"/>
                        <Label fx:id="imagePathLabel" text="-" GridPane.columnIndex="1" GridPane.rowIndex="10"/>
                    </GridPane>
                </VBox>
            </ScrollPane>
        </SplitPane>
    </center>
    <bottom>
        <HBox styleClass="status-bar" alignment="CENTER_LEFT">
            <Label fx:id="statusLabel" text="Ready"/>
        </HBox>
    </bottom>
</BorderPane>